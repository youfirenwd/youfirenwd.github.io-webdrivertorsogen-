<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Webdriver Torso GEN â€” PKG</title>
  <style>
    html,body{height:100%;margin:0}
    body{
      background: cyan;
      font-family: 'Comic Sans MS', 'Comic Sans', cursive;
      overflow:hidden;
    }

    .info{
      position:fixed;
      left:20px;
      top:50%;
      transform:translateY(-50%);
      color:black;
      font-size:18px;
      line-height:1.2;
      white-space:nowrap;
      z-index:10;
      background:rgba(255,255,255,0.6);
      padding:2px 6px;
      border-radius:4px;
    }

    .stamp{
      position:fixed;
      left:12px;
      bottom:8px;
      color:red;
      font-size:11px;
      font-weight:600;
      z-index:10;
    }

    .rect{
      position:absolute;
      display:inline-block;
    }
    .red{background:red;}
    .blue{background:blue;}
  </style>
</head>
<body>

  <div class="info" id="pkgText"></div>
  <div class="stamp">(SUPER UPLOAD PROJECT)</div>
  <div id="shapes"></div>

  <script>
    let slide = 0;

    function makePkgString(){
      const d = new Date();
      const y = d.getFullYear();
      const m = d.getMonth()+1;
      const day = d.getDate();
      const hh = d.getHours();
      const mm = d.getMinutes();
      const ss = d.getSeconds();
      const ms = d.getMilliseconds();
      const micro = String(ss) + String(ms).padStart(3,'0');
      const slideStr = String(slide).padStart(4,'0');
      return `PKG ${y}-${m}-${day} ${hh}-${mm}-${micro} - Slide ${slideStr}`;
    }

    function updateText(){
      document.getElementById('pkgText').textContent = makePkgString();
    }

    function randomRect(color){
      const div = document.createElement('div');
      div.classList.add('rect', color);

      let w, h;
      // both red and blue can be large or small
      if(Math.random() < 0.3){
        // large size
        w = 200 + Math.random()*300;
        h = 150 + Math.random()*250;
      } else if(Math.random() < 0.3){
        // small size
        w = 20 + Math.random()*80;
        h = 20 + Math.random()*80;
      } else {
        // medium size
        w = 50 + Math.random()*250;
        h = 40 + Math.random()*200;
      }

      div.style.width = w + 'px';
      div.style.height = h + 'px';

      // occasional thinness effect
      if(Math.random() < 0.3){
        div.style.height = (20 + Math.random()*40) + 'px';
      }
      if(Math.random() < 0.3){
        div.style.width = (20 + Math.random()*40) + 'px';
      }

      // random position (overlap possible)
      const maxX = window.innerWidth - w;
      const maxY = window.innerHeight - h;
      div.style.left = Math.floor(Math.random()*maxX) + 'px';
      div.style.top = Math.floor(Math.random()*maxY) + 'px';

      return div;
    }

    function updateShapes(){
      const container = document.getElementById('shapes');
      container.innerHTML = '';
      if(Math.random() < 0.5){
        container.appendChild(randomRect('red'));
        container.appendChild(randomRect('blue'));
      } else {
        container.appendChild(randomRect('blue'));
        container.appendChild(randomRect('red'));
      }
    }

    // AUDIO - Webdriver Torso style beeps
    const AudioContext = window.AudioContext || window.webkitAudioContext;
    let ac;
    if(AudioContext){
      ac = new AudioContext();
    }

    function playBeep(){
      if(!ac) return;
      const minHz = 600;
      const maxHz = 2400;
      const freq = Math.random() * (maxHz - minHz) + minHz;
      const o = ac.createOscillator();
      const g = ac.createGain();
      o.type = 'sine';
      o.frequency.value = freq;
      g.gain.setValueAtTime(0.15, ac.currentTime);
      o.connect(g);
      g.connect(ac.destination);
      o.start();
      o.stop(ac.currentTime + 1);
    }

    function nextSlide(){
      slide++;
      updateText();
      updateShapes();
      playBeep();
    }

    updateText();
    updateShapes();

    setInterval(nextSlide, 1000);
  </script>
</body>
</html>